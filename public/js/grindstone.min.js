/* Grindstone JavaScript Library v3.2.1 | Copyright (c) 2014, 2018 dzervoudakes and contributors | https://github.com/dzervoudakes/GrindstoneJS/blob/master/LICENSE */
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){if("undefined"!=typeof exports)return module.exports=e();t.Grindstone=t.$=e()}(window,function(){var n=function(n,t){var i=this;if(n){var e=void 0;"string"==typeof n?t?("string"==typeof t?e=document.querySelectorAll(t):c.isElementArray(t)&&(e=t),e instanceof Array?e.forEach(function(t){var e=document.querySelectorAll(t);Array.prototype.forEach.call(e,function(t){c.applyContext(t,n,i)})}):Array.prototype.forEach.call(e,function(t){c.applyContext(t,n,i)})):i.push.apply(i,document.querySelectorAll(n)):c.isElementArray(n)?i.push.apply(i,n):i.push(n)}return this.set=i,this},h=function(t,e){return new n(t,e)};h.fn=n.prototype=[];var c={applyContext:function(t,e,n){var i=t.querySelectorAll(e);Array.prototype.forEach.call(i,function(t){-1===n.indexOf(t)&&n.push(t)})},children:function(t,e,n){var i=h(),r=!0,o=!1,s=void 0;try{for(var f,c=t[Symbol.iterator]();!(r=(f=c.next()).done);r=!0)for(var a=f.value.firstChild;a;a=a.nextSibling)void 0!==e&&e!==a.nodeType||n&&!h(a).is(n)||i.push(a)}catch(t){o=!0,s=t}finally{try{!r&&c.return&&c.return()}finally{if(o)throw s}}return i},createInteraction:function(t,e){return"ontouchend"in document?t:e},elementProp:function(t,n,i){return h.fn.map.call(t,function(){for(var t=this;;){var e=t[n];if(!e)break;if(1===e.nodeType){if(!i||h(e).is(i))return e;break}t=e}})},isElementArray:function(t){return t instanceof Array},matchesFuncName:Element.prototype.matches?"matches":Element.prototype.matchesSelector?"matchesSelector":Element.prototype.webkitMatchesSelector?"webkitMatchesSelector":Element.prototype.mozMatchesSelector?"mozMatchesSelector":Element.prototype.msMatchesSelector?"msMatchesSelector":void 0};h.fn.ajax=function(t){if("object"!==(void 0===t?"undefined":_typeof(t)))throw new Error("XHR properties are not properly defined.");var e=t.method,i=void 0===e?"GET":e,n=t.url,r=void 0===n?"":n,o=t.async,s=void 0===o||o,f=t.dataType,c=void 0===f?"":f,a=t.body,h=void 0===a?null:a,u=t.header,l=void 0===u?"Content-Type":u,p=t.headerValue,d=void 0===p?"application/x-www-form-urlencoded; charset=UTF-8":p;return new Promise(function(t,e){var n=new XMLHttpRequest;return n.open(i,r,s),n.responseType=c,n.setRequestHeader(l,d),n.onload=function(){return t(n.response)},n.onerror=function(){return e("failure")},n.send(h),n})};h.fn.addClass=function(t){var n=t.split(" ");return this.each(function(){var e=this;n.forEach(function(t){e.classList.add(t)})}),this};h.fn.attr=function(t,e){var n=void 0;return this.each(function(){e||""===e?this.setAttribute(t,e):n=this.getAttribute(t)}),e?this:n};h.fn.data=function(t,e){if(e)return this.each(function(){h(this).attr("data-"+t,e)}),this;var n=void 0;return this.each(function(){n=h(this).attr("data-"+t)}),n};h.fn.hasAttr=function(t){var e=!1;return this.each(function(){t&&(e=null!==h(this).attr(t))}),e};h.fn.hasClass=function(t){var n=!0,i=t.split(" ");return this.each(function(){var e=this;i.forEach(function(t){if(!e.classList.contains(t))return n=!1})}),n};h.fn.removeAttr=function(t){return this.each(function(){t&&this.removeAttribute(t)}),this};h.fn.removeClass=function(t){var n=t.split(" ");return this.each(function(){var e=this;n.forEach(function(t){e.classList.remove(t)})}),this};h.fn.removeData=function(t){return this.each(function(){h(this).removeAttr("data-"+t)}),this};h.fn.toggleClass=function(t){var n=t.split(" ");return this.each(function(){var e=this;n.forEach(function(t){e.classList.toggle(t)})}),this};h.fn.each=function(i){var t=this.set;return(t=Array.prototype.slice.call(t)).forEach(function(t,e,n){i.call(t,t,e,n)}),this};h.fn.eq=function(t){return h(this.set[t])};h.fn.first=function(){return h(this.set[0])};h.fn.get=function(t){return this.set[t]};h.fn.last=function(){return h(this.set[this.set.length-1])};h.fn.map=function(r){var o=h();return this.set.forEach(function(t,e,n){var i=r.call(t,t,e,n);null!=i&&o.push(i)}),o};h.fn.click=function(e){return this.each(function(){if(e)this.addEventListener("click",e,!1);else{var t=new Event("click");this.dispatchEvent(t)}}),this};h.fn.doubleTap=function(t){var e=void 0,n=void 0;return this.each(function(){e=!1,n=c.createInteraction("touchend","click"),h(this).on(n,function(){if(e)return t(),e=!1;e=!0,setTimeout(function(){return e=!1},350)})}),this};h.fn.focus=function(t){return"function"==typeof t?this.each(function(){h(this).on("focus",t)}):this.set[0].focus(),this};h.fn.load=function(t){if("function"!=typeof t)throw new Error('No callback specified for "load()"');return this.each(function(){h(this).on("load",t)}),this};h.fn.off=function(t,n){return this.each(function(){var e=this;t.split(" ").forEach(function(t){e.removeEventListener(t,n,!1)})}),this};h.fn.on=function(t,n){return this.each(function(){var e=this;t.split(" ").forEach(function(t){e.addEventListener(t,n,!1)})}),this};h.fn.ready=function(t){if("function"!=typeof t)throw new Error('No callback specified for "ready()"');return this.each(function(){h(this).on("DOMContentLoaded",t)}),this};h.fn.resize=function(t){if("function"!=typeof t)throw new Error('No callback specified for "resize()"');return this.each(function(){h(this).on("resize",t)}),this};h.fn.scroll=function(t){if("function"!=typeof t)throw new Error('No callback specified for "scroll()"');return this.each(function(){h(this).on("scroll",t)}),this};h.fn.scrollLeft=function(t){var e=void 0;return this.each(function(){switch(this){case window:"number"==typeof t?this.scrollTo(t,0):e=this.pageXOffset;break;case document:"number"==typeof t?this.body.scrollLeft=t:e=this.body.scrollLeft;break;default:"number"==typeof t?this.scrollLeft=t:e=this.scrollLeft}}),"number"==typeof t?this:e};h.fn.scrollTop=function(t){var e=void 0;return this.each(function(){switch(this){case window:"number"==typeof t?this.scrollTo(0,t):e=this.pageYOffset;break;case document:"number"==typeof t?this.body.scrollTop=t:e=this.body.scrollTop;break;default:"number"==typeof t?this.scrollTop=t:e=this.scrollTop}}),"number"==typeof t?this:e};h.fn.trigger=function(t){var e=new Event(t);return this.each(function(){this.dispatchEvent(e)}),this};h.fn.filter=function(t){return h.fn.map.call(this,function(){if(h(this).is(t))return this})};h.fn.is=function(t){var e="function"==typeof t,n=!0,i=!1,r=void 0;try{for(var o,s=this[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var f=o.value;if(e?t.call(f,this.indexOf(f),f):f[c.matchesFuncName](t))return!0}}catch(t){i=!0,r=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}return!1};h.fn.not=function(t){return h.fn.map.call(this,function(){if(!h(this).is(t))return this})};h.fn.submit=function(t){return"function"==typeof t?this.each(function(){h(this).on("submit",t)}):this.each(function(){this.submit()}),this};h.fn.val=function(t){return t&&"string"==typeof t?(this.each(function(){this.value=t}),this):this.set[0].value};h.fn.after=function(n){return this.each(function(){var e=this;if("string"==typeof n)if(n.match(/(<).+(>)/))this.insertAdjacentHTML("afterend",n);else{var t=document.querySelectorAll(n);(t=Array.prototype.slice.call(t)).forEach(function(t){e.parentNode.insertBefore(t,e.nextSibling)})}else this.parentNode.insertBefore(n,this.nextSibling)}),this};h.fn.append=function(n){return this.each(function(){var e=this;if("string"==typeof n)if(n.match(/(<).+(>)/))this.innerHTML+=n;else{var t=document.querySelectorAll(n);(t=Array.prototype.slice.call(t)).forEach(function(t){e.appendChild(t)})}else this.appendChild(n)}),this};h.fn.before=function(n){return this.each(function(){var e=this;if("string"==typeof n)if(n.match(/(<).+(>)/))this.insertAdjacentHTML("beforebegin",n);else{var t=document.querySelectorAll(n);(t=Array.prototype.slice.call(t)).forEach(function(t){e.parentNode.insertBefore(t,e)})}else this.parentNode.insertBefore(n,this)}),this};h.fn.clone=function(){return this.map(function(){return this.cloneNode(!0)})};h.fn.css=function(t,e){var n=void 0,i=void 0;return this.each(function(){"object"===(void 0===t?"undefined":_typeof(t))?Object.assign(this.style,t):"string"==typeof t&&null==e?(n=this.style[t],i=!0):"string"==typeof t&&(this.style[t]=e)}),i?n:this};h.fn.empty=function(){return this.each(function(){for(;this.firstChild;)this.removeChild(this.firstChild)}),this};h.fn.height=function(t){return"number"==typeof t||0===t?(this.each(function(){this.style.height=t+"px"}),this):this.set[0]===document?document.body.clientHeight:this.set[0]===window?window.innerHeight:this.set[0].offsetHeight};h.fn.hide=function(t){var e=this;return t?setTimeout(function(){h.fn.hide.call(e)},t):this.each(function(){"none"!==this.style.display&&(this.style.display&&h(this).data("_prevdisplay",this.style.display),this.style.display="none")}),this};h.fn.html=function(t){var e=void 0;return this.each(function(){t||""===t?this.innerHTML=t:e=this.innerHTML}),t?this:e};h.fn.prepend=function(n){return this.each(function(){var e=this;if("string"==typeof n)if(n.match(/(<).+(>)/))this.insertAdjacentHTML("afterbegin",n);else{var t=document.querySelectorAll(n);(t=Array.prototype.slice.call(t)).forEach(function(t){e.insertBefore(t,e.firstChild)})}else this.insertBefore(n,this.firstChild)}),this};h.fn.remove=function(t){if(t){var n=document.querySelectorAll(t);n=Array.prototype.slice.call(n),this.each(function(){var e=this;n.forEach(function(t){e.removeChild(t)})})}else this.each(function(){this.parentNode.removeChild(this)});return this};h.fn.replaceWith=function(t){return this.each(function(){this.outerHTML=t||""}),this};h.fn.show=function(t){var e=this;return t?setTimeout(function(){h.fn.show.call(e)},t):this.each(function(){"none"===this.style.display&&(this.style.display=h(this).data("_prevdisplay")||"",h(this).removeData("_prevdisplay"))}),this};h.fn.width=function(t){return"number"==typeof t||0===t?(this.each(function(){this.style.width=t+"px"}),this):this.set[0]===document?document.body.clientWidth:this.set[0]===window?window.innerWidth:this.set[0].offsetWidth};h.fn.wrap=function(e){return this.each(function(){if("string"!=typeof e||!e.startsWith("<")||!e.endsWith(">"))throw new Error('wrap() string must start with "<" and ending with ">".');var t=this.outerHTML;this.outerHTML=e+t}),this};h.fn.wrapInner=function(e){return this.each(function(){if("string"!=typeof e||!e.startsWith("<")||!e.endsWith(">"))throw new Error('wrapInner() string must start with "<" and ending with ">".');var t=h(this).html();h(this).html(e+t)}),this};h.debounce=function(i,r,o){var s=void 0,t=function(){var t=this,e=arguments,n=o&&!s;clearTimeout(s),s=setTimeout(function(){s=null,o||i.apply(t,e)},r),n&&i.apply(t,e)};return t};h.extend=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if("object"!==(void 0===t?"undefined":_typeof(t))||0===!n.length)throw new Error("Cannot merge properties into the target: argument is not an object.");var r=!0,o=!1,s=void 0;try{for(var f,c=n[Symbol.iterator]();!(r=(f=c.next()).done);r=!0){var a=f.value;if("object"!==(void 0===a?"undefined":_typeof(a)))throw new Error("Cannot merge properties into the target: argument is not an object.");t=Object.assign(t,a)}}catch(t){o=!0,s=t}finally{try{!r&&c.return&&c.return()}finally{if(o)throw s}}return t};h.fn.mouseable=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{hoverClass:"over",activeClass:"down"},e=t.hoverClass,n=void 0===e?"over":e,i=t.activeClass,r=void 0===i?"down":i,o={hover:c.createInteraction("touchstart","mouseenter"),remove:c.createInteraction("touchend","mouseleave"),down:c.createInteraction("touchstart","mousedown"),up:c.createInteraction("touchend","mouseup mouseleave")};return this.each(function(){var t=this;h(this).on(o.hover,function(){h(t).addClass(n)}).on(o.remove,function(){h(t).removeClass(n)}).on(o.down,function(){h(t).addClass(r)}).on(o.up,function(){h(t).removeClass(r)})}),this};h.fn.offset=function(t){if("left"!==t&&"top"!==t)throw new Error('offset() position must be either "left" or "top".');var e=this.set[0];if("left"===t){for(var n=0;isNaN(e.offsetLeft)||(n+=e.offsetLeft),e=e.offsetParent;);return n}if("top"===t){for(var i=0;isNaN(e.offsetTop)||(i+=e.offsetTop),e=e.offsetParent;);return i}};h.fn.children=function(t){return c.children(this,1,t)};h.fn.contents=function(){return c.children(this)};h.fn.next=function(t){return c.elementProp(this,"nextSibling",t)};h.fn.parent=function(t){return c.elementProp(this,"parentNode",t)};return h.fn.prev=function(t){return c.elementProp(this,"previousSibling",t)},h});